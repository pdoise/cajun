<app-primary-layout>
  <section class="text-center">
    <div class="row py-5">
      <div class="col-lg-6 col-md-8 mx-auto">
        <h1 class="fw-light app-primary">CajunCookbook</h1>
        <p class="lead text-muted app-primary">Louisianaâ€™s Best Recipes-Cajun, Creole, and Southern</p>
        <app-text-filter></app-text-filter>
        <button class="btn btn-primary mt-3"
          (click)="goAddRecipe()">
          Add New Recipe
        </button>
      </div>
    </div>
  </section>

  <section *ngIf="!(recipes$|async)?.length" class="text-center">
    <div class="spinner-grow">
      <span class="visually-hidden">Loading...</span>
    </div>
  </section>

  <section *ngIf="(recipes$|async)?.length">
    <h3 class="fw-light app-primary">Featured Recipes</h3>
    <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-md-4 g-4">
      <div class="col" class="py-5 bg-light" *ngFor="let recipe of (recipes$|async) | slice:0:8">
        <div class="card shadow-sm h-100" (click)="goRecipe(recipe)">
          <div class="square-image-wrapper">
            <img *ngIf="recipe.img_src" class="card-img-top square-image" [src]="recipe.img_src">
            <img *ngIf="!recipe.img_src" class="card-img-top square-image" src="/assets/images/no-image.png">
          </div>
          <div class="card-body">
            <h5 class="card-title">{{recipe.name}}</h5>
            <p class="card-text">{{recipe.description}}</p>
          </div>
          <div class="card-footer">
            <div class="d-flex justify-content-between align-items-center">
              <small>Contributor: {{recipe.user?.username}}</small>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- <h3 class="fw-light app-primary mt-5">All Recipes</h3>
    <div class="app-table">
      <table class="table table-hover">
        <colgroup>
          <col width="5%">
          <col width="50%">
          <col width="25%">
          <col width="20%">
        </colgroup>
        <thead>
          <tr>
            <th></th>
            <th>Name</th>
            <th>Description</th>
            <th>Contributor</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let recipe of (recipes$|async)" (click)="goRecipe(recipe)">
            <td *ngIf="recipe.img_src"><img class="card-img-table" [src]="recipe.img_src"></td>
            <td *ngIf="!recipe.img_src"><img class="card-img-table" src="/assets/images/no-image.png"></td>
            <td>{{recipe.name}}</td>
            <td>{{recipe.description}}</td>
            <td>{{recipe.user?.username}}</td>
            <td>{{recipe}}</td>
          </tr>
        </tbody>
      </table>
    </div> -->
  </section>
</app-primary-layout>
